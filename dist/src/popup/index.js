import{s as o}from"../../messages.js";async function c(){await i(),r()}async function i(){try{const e=await o("GET_ALL_ITEMS"),n=await o("GET_ALL_TOPICS"),t=new Date;t.setHours(0,0,0,0);const a=t.getTime(),s=e.filter(d=>d.savedAt>=a).length;document.getElementById("stat-saved").textContent=String(e.length),document.getElementById("stat-topics").textContent=String(n.length),document.getElementById("stat-today").textContent=String(s)}catch(e){console.error("Failed to load stats:",e)}}function r(){var e,n;(e=document.getElementById("btn-save"))==null||e.addEventListener("click",async()=>{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});t!=null&&t.id&&(await o("TRIGGER_SAVE"),window.close())}),(n=document.getElementById("btn-dashboard"))==null||n.addEventListener("click",t=>{t.preventDefault(),chrome.tabs.create({url:chrome.runtime.getURL("src/dashboard/index.html")}),window.close()})}document.addEventListener("DOMContentLoaded",c);
